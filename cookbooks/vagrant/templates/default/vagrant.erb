#!/usr/bin/env bash

# Get the directory where this script is. This will also resolve
# any symlinks in the directory/script, so it will be the fully
# resolved path.
SOURCE="${BASH_SOURCE[0]}"
while [ -h "$SOURCE" ] ; do SOURCE="$(readlink "$SOURCE")"; done
DIR="$( cd -P "$( dirname "$SOURCE" )" && pwd )"

# Export gem paths so that we use the isolated gems.
export GEM_PATH=${DIR}/../embedded/gems
export GEM_HOME=${GEM_PATH}

# Call the actual Vagrant bin with our arguments
${DIR}/../embedded/bin/ruby ${GEM_PATH}/bin/vagrant $@
